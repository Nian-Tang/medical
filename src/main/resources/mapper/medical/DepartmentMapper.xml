<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.medical.mapper.DepartmentMapper">

    <resultMap id="Department" type="com.medical.entity.Department">
        <id property="id" column="id"/>
        <result property="dName" column="d_name"/>
        <result property="entryDate" column="Entry_date"/>
        <result property="hid" column="h_id"/>

        <collection property="hospital" javaType="com.medical.entity.Hospital">
            <id property="id" column="id"/>
            <result property="hName" column="h_name"/>
            <result property="address" column="address"/>
            <result property="hTel" column="h_tel"/>
            <result property="information" column="information"/>
        </collection>
    </resultMap>

    <select id="getDep" resultType="com.medical.entity.Department">
select d_name from `department` where id=#{id}
    </select>

    <select id="getks" resultMap="Department">
SELECT h.h_name,h.address,d.d_name FROM hospital h JOIN department d WHERE h.id=d.hid AND d.hid=#{hid}
    </select>
</mapper>
